# 一、介绍

“云”是新的技术术语。似乎每个人都在谈论“迁移到云”，但很少有人真正知道这意味着什么，更不知道如何利用它。随着每一次技术的转变，有些人认为新技术将解决他们所有的问题，甚至没有盘点那些问题是什么。许多技术都做出了承诺，其中一些甚至是真的，但是要实现它们，你必须以正确的方式使用技术。

这本书主要是为那些想开始将他们的应用迁移到云上，并想知道如何开始和他们可用的不同选项的开发人员准备的。其次，这本书是为那些想要精通云技术和想法的管理者准备的，以便更好地理解可用的选项以及不同的开发决策将如何影响它们。这本书的重点是 PHP，但是，即使 PHP 不是您打算使用的部署语言，这本书也会告诉您在任何语言或平台中构建云应用需要知道什么。

这本书将讨论几种不同的云选项，但将侧重于开发 Linode 和类似的云，原因我们将在第 [2](02.html) 章中看到。

请注意，这本书在特定的基础设施供应商之间做了许多比较。我不代表任何特定的公司，也不保证这些比较是万无一失的或永久的。然而，它们是我在写作时的经验和知识的结果，我已经尽力提供尽可能多的事实信息。尽管如此，尽管本书中讨论的一般考虑因素不太可能改变，但具体的供应商、产品以及它们如何符合*标准*可能会随着时间的推移而改变。

此外，虽然设置、编程和配置任务的一般大纲可能会在很长一段时间内保持不变，但随着产品和平台的变化，具体步骤和屏幕截图可能会与本书不同。尽管如此，这里给出的步骤应该仍然是一个可靠的指南，告诉你应该从不同的云供应商那里得到什么类型的东西。

## 1.1 先决条件

这本书的先决条件很少。即使你不熟悉我们正在使用的具体工具，这本书有足够的一步一步的指示，你应该能够相当容易地跟随它。

因为这是一本关于 web 应用的书，所以它假设您熟悉 HTML、CSS 的绝对基础知识，以及互联网如何工作的基础知识(即域名、IP 地址等)。).如果你不熟悉这些东西，你应该把这本书放下，拿起一本我之前的书，*新程序员从这里开始*。*新程序员从这里开始*并没有触及你需要知道的每一个话题，但是如果你理解了它的概念，你应该能够理解本书中的大多数例子。

本书中的代码是基于 PHP 的，但是代码足够简单，无论你熟悉什么语言，你都应该能够理解。之所以选择 PHP，是因为用 PHP 很容易编写简短易懂的 web 应用。例如，在我的工作中，我几乎总是用 Ruby on Rails 编程。然而，如果不熟悉整个 Ruby on Rails 系统，理解 Rails 应用几乎是不可能的。另一方面，PHP 没有 Rails 那么“神奇”,但这让读者更清楚发生了什么。对于 PHP，特别是在本书使用它的水平上，我相信任何有编程语言经验的人都能够理解正在发生的事情。

本书还假设您对数据库和 SQL 有基本的了解。这不是一个绝对的要求，但是数据库代码本身很大程度上没有得到解释。然而，SQL 代码对任何人来说应该是不言而喻的，即使是对 SQL 稍有了解的人。

最后，这本书使用 Linux 作为操作系统的选择。然而，即使你对 Linux 一无所知，这本书也给了你需要输入的每一个命令，所以你实际上不需要了解 Linux 就可以使用这本书。附录 A 有一个常用 Linux 命令的列表，如果你想了解更多，可以参考一下。

选择 Linux 的原因是因为它是一个非常容易在云环境中安装和使用的操作系统。虽然在云环境中使用 Windows 是可能的，但是 Linux 是为这种类型的应用从头开始构建的。命令行虽然看起来晦涩难懂，但实际上使服务器管理变得快速而轻松。

此外，因为 Linux、PHP 和 PostgreSQL(我们的数据库系统)都是自由软件，所以使用它们不需要考虑许可。你只需要安装你需要的东西，然后继续你的生活。你不需要担心你什么时候需要付钱给谁。您不需要担心您的使用是否与您的产品许可相匹配。你不需要担心有人审计你的业务来验证合规性。有了自由软件，软件只是一个工具——你可以安装它，然后忘记它。

原则上，我对专有软件没有问题，但是，因为它引入了大量额外的管理问题，如果可能的话，我会尽量避免。我并不反对人们为他们的工作获得报酬，但我确实对永无止境的、不必要的麻烦持原则性立场，当你过度依赖许可质量很差的专有软件时，你最终会遇到这种麻烦。

本书重点介绍 CentOS 7 Linux 发行版，因为 CentOS 往往是一个相当稳定和健壮的 Linux 发行版，受到大多数供应商的支持，许多其他 Linux 发行版都使用 CentOS 作为起点。

## 1.2 印刷惯例

这本书使用了一些你应该知道的简单的印刷惯例。当提到代码、键入的命令、URL 或任何其他用于键入的文本时，这本书使用的字体如下:`type me here`。与命令名相同的程序名(你可以输入使用)也是这样写的，用户名和文件名也是这样写的。

但是，您输入的许多内容需要用您自己的值替换，比如您部署的机器的 IP 地址。这些需要替换的东西都是全大写字母的单词给的。例如，要访问你自己的网站，你可以在浏览器中输入 [`http://YOUR.DOMAIN.HERE/`、](http://your.domain.here/)，其中`YOUR.DOMAIN.HERE`是指你自己网站的域名。文本中描述了这些的含义以及它们应该被替换为什么。

请注意，PHP 实际上有几个默认的变量名，我们将使用的都是大写的。所以`$_GET`、`$_POST`、`$_FILES`都是 PHP 中的实变量名，不应该被替换。

这本书描述了如何使用各种第三方服务。当描述各种网站上的菜单、按钮和用户界面元素的字段名称时，这些项目通常会放在双引号中。例如，要从大多数程序中打印出一个文件，你可以进入“文件”，然后点击“打印”

## 1.3 键入或下载代码

这本书围绕一个简单的留言簿应用，使用不同的应用架构构建和重建它。应用的全部代码都在这本书里。老实说，我认为自己把这本书里的所有代码打出来会对你有很大好处。没有太多，它会帮助你思考你在构建什么。然而，我知道当你只是试图处理这些例子时，这可能会变得很乏味，并且当你试图解决问题时，拥有完整的、可工作的代码是非常有帮助的。

因此，我们在本书中介绍的应用的所有变体的代码都可以从 [`www.github.com`](http://www.github.com) 下载。存储库中的每个分支都代表了对书中应用的不同修改。使用存储库，您需要做的唯一更改是本书正文中提到的特定于环境的更改，比如设置数据库服务器的 IP 地址。这些也在每个分支的`README`文件中。

您可以从以下网址下载代码

[`https://github.com/johnnyb/cloud-example-application`](https://github.com/johnnyb/cloud-example-application)

如果您自己键入代码，请密切注意空格在程序中的使用位置。代码完全按照应该键入的样子编写，除非文本在其他地方指明，否则在应该的地方换行。将空格和换行符放在错误的地方，或者将它们留在它们应该在的地方，肯定会弄乱代码。