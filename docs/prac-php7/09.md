# 9.连接多个表和其他增强功能

数据库驱动的网站可以从本章描述的三个实用的改进中获益。例如，多个表可以给出更具体的搜索结果，并且对于论坛和电子商务网站的管理是必不可少的，会员费可以通过支票以及使用 PayPal 和信用卡/借记卡来支付，支票付款可以附带可打印的申请表。

完成本章后，您将能够

*   使用 phpMyAdmin 创建多个表

*   理解内部连接和外部连接的区别

*   使用 phpMyAdmin 连接多个表

*   使用程序代码连接多个表

*   提供可打印的在线表格

## 多表介绍

前面的章节一次显示一个表中的信息。有时数据库使用几个可以相互关联的表。这些数据库被称为关系数据库。可以将每个表中的数据连接(组合)起来，形成可以在浏览器中显示的虚拟表。在本教程中，我们将完全专注于连接表的过程。为了简单明了，这些教程的网站将去掉几个功能，比如登录和管理。这些功能的按钮将出现在标题上，但它们将是死链接。

你可能想知道为什么我们需要不止一张桌子。为什么不把所有数据放在一个表中？我们可以用一张大桌子，但这会带来无穷无尽的麻烦。大量的信息将被多次输入，导致数据库效率低下，并且管理将是耗时和乏味的。

举个例子，假设我们有一个销售电话和对讲机的电子商务网站。我们可以有一组记录，如表 [9-1](#Tab1) 所示。

表 9-1

有许多重复条目的表

<colgroup><col class="tcol1"> <col class="tcol2"> <col class="tcol3"> <col class="tcol4"> <col class="tcol5"></colgroup> 
| 

订单 id

 | 

用户姓名

 | 

地址

 | 

产品

 | 

股票

 |
| --- | --- | --- | --- | --- |
| One thousand and six | 查理·史密斯 | 汤斯维尔公园路 3 号 TV77 99JP | 电话 123 | one |
| One thousand and seven | 查理·史密斯 | 汤斯维尔公园路 3 号 TV77 99JP | 对讲机 456 | four |
| One thousand and eight | 罗伯特·布鲁斯 | 4 林登街城市 UT88 66XY | 对讲机 456 | five |
| One thousand and nine | 内莉·迪恩 | 密尔沃基市榆树大道 7 号，邮编:78 88WZ | 电话 456 | six |
| One thousand and ten | 罗伯特·布鲁斯 | 4 林登街城市 UT88 66XY | 电话 678 | one |
| One thousand and eleven | 内莉·迪恩 | 米尔敦镇榆树大道 7 号 MT78 88WZ | 对讲机 396 | three |
| One thousand and twelve | 查理·史密斯 | 汤斯维尔公园路 3 号 TV77 99JP | 电话基座 A2 | four |

这个包含最新订单的单个表有许多问题。

在不同的日期，查理·史密斯点了三样东西，他的地址重复了三次。如果他改变了地址，我们就需要修改表中的三行。查理的名字和地址应该保存在一个单独的表中；这将允许我们只更改他的地址一次。库存水平通常会变化。我们目前必须滚动浏览记录，以确定特定商品的最低库存水平。库存水平和产品描述应该保存在另一个表中，这样当库存水平改变时，只需要更新一个表。当显示产品时，用户和管理员可以容易地看到库存水平的准确数字。

### 正常化

消除重复和其他维护问题的过程称为*规范化*。表 [9-1](#Tab1) 包含了说明非常不良做法的项目。名字和姓氏应该在不同的列中。地址应该按照街道、城镇和邮政编码分成单独的列。这个过程被称为“T4 原子性”这个相当笨拙的名字，因为像原子一样，数据被分成最小的成分。于是*原子*或*不可分*。

*规范化*是通过应用严格的*原子性*并将数据拆分成几个表来实现的，而不是只使用一个表，这样每个表都有一个特定的单一用途。此外，每个表中的信息必须有密切相关的数据，如名字、姓氏和电子邮件地址；如果客户更改了他或她的电子邮件地址，您只需修改一条记录。规范化允许数据库被容易地扩展，以便它能保存更多类型的信息。例如，可以添加一个表来保存手机的颜色，或者可以有一个表来保存发货日期。

开始时规范化可能很难理解，但是如果应用原子性，然后将密切相关的数据分组到单独的表中，您将自动规范化您的表。通过将数据分解到最低级别，您可以考虑未来的增长和更好的数据控制，并在未来为自己留下更多修改和操作数据的选项。能够在多个表上建立一对多的关系可以减少数据冗余。

### 注意

在大多数情况下，正确设计的数据库表(至少)是第三范式(3NF)。

当一个表具有由以下要求定义的关系时，它被认为是第一范式(1NF)。

*   每个单元格保存一个值。

*   所有列值都属于同一类型。

*   每个列都是唯一标识的(列名)。

*   这些列可以按任何顺序排列。

*   这些行可以按任何顺序排列。

*   每行都包含唯一的数据。

如果一个表是 1NF 格式的，并且包含唯一标识每一行的主键，那么这个表就是第二范式(2NF)。如果一个表在 2NF 中，并且没有定义(依赖)于其他列的列，则该表为第三范式。数据是原子的或 T2 的不可见的。另外，表可以被分类为第四范式(4NF)和第五范式(5NF)。然而，这些分类超出了本书的范围。

在某些情况下，数据库管理员可能会降低规范化程度，并跨表复制数据。这可以提高频繁使用的数据库中的数据检索效率，例如大型百货商店的库存数据库。

现在让我们创建一个包含两个表的数据库。

### 创建数据库和表

对于本教程的第一部分，我们将创建一个包含两个小表的数据库。在 phpMyAdmin 中，创建一个名为 *birdsdb* 的数据库，然后设置一个用户和密码，如下所示:

1.  在 XAMPP 的 *htdocs* 文件夹或 EasyPHP 文件夹 *eds_www* 中，新建一个名为 *birds* 的文件夹。

2.  从[出版社的页面下载第](http://apress.com) [9](09.html) 章的文件。并将它们解压到新的*鸟类*文件夹中。

3.  启动 XAMPP 或 EasyPHP，在浏览器的地址栏输入 **localhost/phpmyadmin/** 访问 phpmyadmin。

4.  单击 Databases 选项卡并创建一个名为 *birdsdb* 的数据库。从下拉排序规则列表中，选择 utf8_general_ci，然后单击创建。

5.  单击权限选项卡，然后向下滚动并单击添加新用户。

6.  输入这些详细信息:

    *   *用户名*:法拉第

    *   *密码* : Dynam01831

    *   *主机*:本地主机

    *   *数据库*名称:birdsdb

7.  单击开始。

### 查看连接文件

文件 *mysqli_connect.php* 的代码如下:

```php
<?php
// Create a connection to the migrate database and to MySQL
// Set the encoding to utf-8
// Set the database access details as constants
define ('DB_USER', 'faraday');
define ('DB_PASSWORD', 'Dynam01831');
define ('DB_HOST', 'localhost');
define ('DB_NAME', 'birdsdb');
// Make the connection:
$dbcon = new mysqli(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME);
// Set the encoding...optional but recommended
mysqli_set_charset($dbcon, 'utf8');

```

我们没有为 birds、location 和 rsvinfo 表提供转储文件。因此，您必须手动创建和填充这些表。这不会很乏味，因为表很小。

单击 phpMyAdmin 左侧面板中的数据库 birdsdb，手动创建一个名为 *birds* 的表，该表有四列，属性如表 [9-2](#Tab2) 所示。

表 9-2

鸟桌

<colgroup><col class="tcol1"> <col class="tcol2"> <col class="tcol3"> <col class="tcol4"> <col class="tcol5"> <col class="tcol6"> <col class="tcol7"> <col class="tcol8"></colgroup> 
| 

列名

 | 

类型

 | 

长度/值

 | 

默认

 | 

属性

 | 

空

 | 

索引

 | 

A_I

 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 伯德 _id | 中位 | four | 没有人 | 无符号的 | -是吗 | 主要的 | ·······················。 |
| 鸟名 | 微小文本 | Sixty | 没有人 |   | -是吗 |   | -是吗 |
| 稀薄 | 微小文本 | 60` | 没有人 |   | -是吗 |   | -是吗 |
| 最佳时间 | 微小文本 | Sixty | 没有人 |   | -是吗 |   | -是吗 |

birds 表包含一个名为 *bird_id* 的列。该列被配置为主键。

你会看到如图 [9-1](#Fig1) 所示的弹出对话框；记住不要输入大小，因为您已经在列描述中定义了它。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig1_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig1_HTML.jpg)

图 9-1

设置主索引

我们现在需要创建名为 *location 的附加表。*

#### 创建第二个表

单击 phpMyAdmin 左侧面板中的数据库 birdsdb，手动创建一个名为 *location* 的表，该表有四列，属性如表 [9-3](#Tab3) 所示。将显示一个弹出窗口(如图 [9-1](#Fig1) )让您确认 location_id 是主键。只需点击 Go 确认信息。

表 9-3

位置表的属性

<colgroup><col class="tcol1"> <col class="tcol2"> <col class="tcol3"> <col class="tcol4"> <col class="tcol5"> <col class="tcol6"> <col class="tcol7"> <col class="tcol8"></colgroup> 
| 

列名

 | 

类型

 | 

长度/值

 | 

默认

 | 

属性

 | 

空

 | 

索引

 | 

A_I

 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 位置标识 | 中位 | four | 没有人 | 无符号的 | -是吗 | 主要的 | ·······················。 |
| 位置 | 微小文本 | Sixty | 没有人 |   | -是吗 |   | -是吗 |
| 位置类型 | 微小文本 | 60` | 没有人 |   | -是吗 |   | -是吗 |
| 伯德 _id | 中位 | four | 没有人 | 无符号的 | -是吗 |   | -是吗 |

### 重要的

在位置表中，确保项目 bird_id 与 birds 表中的 bird_id 具有相同的名称、长度和类型。在我们的例子中，它们具有相同的名称(bird_id)、相同的长度(4)和相同的类型(MEDIUMINT)。这对于连接和显示多个表中的数据至关重要。

#### 外键

在正常情况下，您不会期望在位置详细信息表中看到名为 *bird_id* 的项目。位置表中的 bird_id 项被称为*外键*。通过在两个表中包含 bird_id 列，我们将能够组合并显示从两个表中选择的数据；我们通过一个 JOIN 语句来实现这一点，稍后我们将对此进行解释。

### 警告

不要在表格中输入数据。当表准备好进行连接时，我们将稍后执行此操作。

同时，我们必须开始做一些准备。

### 准备用于连接的表格

现在需要为位置表设置索引。列 location_id 已经被索引，因为它是主键。location 表中名为 bird_id 的外键将被索引。在 phpMyAdmin 中，单击左侧面板中的位置表。选择 Structure 选项卡，并在右侧面板中选中 bird_id 列旁边的框。向下滚动到 Indexes 按钮，您将看到一条消息，表明定义了主索引，但没有定义外键。

向上滚动，然后点击图 [9-2](#Fig2) 右下角的索引(显示为圆圈)。如果您选中了 bird_id 左侧的框，那么将自动为您创建索引。向下滚动到索引区域。现在您应该可以看到主键和 bird_id 索引。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig2_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig2_HTML.jpg)

图 9-2

为外键创建索引

### 推广两个表

如前所述，因为我们没有用于注册鸟类或位置的页面，所以我们需要使用 phpMyAdmin 手动填充它们。这不会很乏味，因为表中包含的条目很少。此外，对于您自己对该书网站的改编，您将不会获得鸟类和位置表的 SQL 转储文件。因此，学习如何使用 phpMyAdmin 填充表是必不可少的。

要填充 birds 表，在 phpMyAdmin 中，单击左栏中的数据库 birdsdb(图 [9-3](#Fig3) 中的圆圈),然后单击 Structure 选项卡。您将在右窗格中看到这两个表。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig3_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig3_HTML.jpg)

图 9-3

使用 phpMyAdmin 填充 birds 表

选中 birds 表旁边的框(在图 [9-3](#Fig3) 中圈出)，然后在 birds 记录(行)中点击插入图标(在图 [9-3](#Fig3) 中圈出)。现在将出现插入页面，如图 [9-4](#Fig4) 所示。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig4_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig4_HTML.jpg)

图 9-4

“插入”选项卡显示为黄金眼鸭插入的详细信息

在左侧，您会看到表格列有:鸟名、稀有度和最佳时间。在右侧的文本字段中，您可以填充这些项目。例如，你将在图 [9-3](#Fig3) 中看到，我们已经进入黄金眼、普通和冬季。

使用表 [9-4](#Tab4) 中的数据对其他鸟重复该程序。

表 9-4

鸟桌

<colgroup><col class="tcol1"> <col class="tcol2"> <col class="tcol3"> <col class="tcol4"></colgroup> 
| 

伯德 _id

 | 

鸟名

 | 

稀薄

 | 

最佳时间

 |
| --- | --- | --- | --- |
| one | 黄金眼 | 普通 | 冬天的 |
| Two | 歪脖 | 罕见的 | 夏天 |
| three | Avocet | 普通 | 冬天的 |
| four | 黑水鸡 | 普通 | 随时 |

现在继续使用 phpMyAdmin 并单击左侧面板中的位置表。使用 phpMyAdmin 填充位置表；该过程与您刚才用来填充 birds 表的过程相同。使用表 [9-5](#Tab5) 中所示的数据。

表 9-5

位置表

<colgroup><col class="tcol1"> <col class="tcol2"> <col class="tcol3"> <col class="tcol4"></colgroup> 
| 

位置标识

 | 

位置

 | 

位置类型

 | 

伯德 _id

 |
| --- | --- | --- | --- |
| one | 南方公园 | 池塘 | four |
| Two | 湿地(wetlands) | 河口 | three |
| three | 莱克兰 | 湖 | one |
| four | 摩尔菲尔德 | 沼地 | Two |
| five | 希斯维尔 | 灌木丛生的荒地 | Two |

现在这两个表都被填充和索引了，我们可以学习如何连接它们，以便数据可以被组合并显示在屏幕上。

### 注意

位置表中的 bird_id 值必须与 birds 表中现有的 bird_id 值相匹配，才能正确检索数据。如果您在 birds 表中为 bird_id 自动增加的数字与表 [9-4](#Tab4) 中的不同，请在 location 表中的 bird_id 列中进行调整以匹配您的值。bird_id 列是根据鸟类的栖息地填充的。黑水鸡栖息在池塘中，白鳍豚喜欢在河口生活，黄金眼鸭主要生活在湖泊中，而黄喉拟水鸭生活在高沼地和荒野中。

## 连接两个表中的数据

phpMyAdmin 应用程序为连接两个或多个表中的数据提供了一个简洁的过程。尝试以下步骤:

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig6_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig6_HTML.jpg)

图 9-6

用于指定关系类型的弹出对话框

1.  打开 phpMyAdmin 并在左侧面板中单击 birdsdb。

2.  单击设计器选项卡；如果没有看到设计器选项卡，请单击更多下拉选项卡，然后单击设计器。

3.  您应该看到这两个表；使用鼠标拖动它们，使它们大致处于图 [9-5](#Fig5) 所示的位置。

    ![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig5_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig5_HTML.jpg)

    图 9-5

    放置桌子准备接合

4.  在垂直工具栏上，单击创建关系图标，该图标在图 [9-5](#Fig5) 中用圆圈表示。

5.  单击鸟类表中的 bird_id，然后单击位置表中的 bird_id。如果您以错误的顺序执行此操作(即，首先单击位置)，您将会看到一条错误消息。

6.  你会看到一个弹出面板，如图 [9-6](#Fig6) 所示。

从下拉菜单中，在两个字段中选择限制，然后单击确定。

### 注意

MySQL 和 MariaDB 在创建表之间的关系时允许几个选项。这些选项基于父表(birds)发生更新或删除时该做什么，以及这会如何影响子表(locations)。读取数据时(选择)，实际关系并不重要。如何从表中提取信息的实际决定是由 SQL 语句本身决定的。

以下选项可用:

*   *级联*:根据需要，所有表格都会发生变化。例如，如果 birds 表中的 bird_id 值被更改，它也会更改 locations 表中相应的 id。根据外键关系，这些更改可以通过多个表级联。如果从 birds 表中删除 bird_id 值，locations 表中的相应记录也将被删除。

*   *Set NULL* :对父表 birds 的任何更改都会导致在子表 locations 的相关主键中放置一个 NULL 值。如果 birds 表中的 bird_id 值被更改或删除，locations 表中相应的 bird_id 值将被更改为 NULL。

*   *Restrict*:DMBS 不会进行更新或删除，除非同一个 SQL 语句同时处理父表 birds 和子表 locations。如果 SQL 语句试图只更改父表的外键值，而不同时更改子表中的相关主键，该语句将被拒绝。此外，如果 SQL 语句试图删除父表记录或外键，而没有从子表中删除(或更改)相关记录(或主键)，该语句将被拒绝。

我们的示例将 delete 和 update 值都设置为 restrict，如果 birds 表发生了变化，而 locations 表没有发生相应的变化，这将为管理员提供反馈。虽然本章介绍了如何从多个表中读取数据，但是您可以通过在 phpMyAdmin 中更改表并尝试更新或删除记录来测试这些关系如何影响表。

1.  你会看到这些表格被链接(相关)，如图 [9-7](#Fig7) 所示。

    ![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig7_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig7_HTML.jpg)

    图 9-7

    这些表现在是相关的

2.  点击图 [9-7](#Fig7) 中圈出的保存图标保存链接。

我们现在将使用 phpMyAdmin 创建第三个名为 reserves_info 的表；该表将包含有关保护区的信息，如进入鸟笼(庇护所)和门票(如有)。

### 创建第三个表

单击 phpMyAdmin 左侧面板中的数据库 birdsdb，手动创建一个名为 *reserves_info* 的表，该表包含五列以及表 [9-6](#Tab6) 中的属性。如上所示，验证主键。

表 9-6

reserves_info 表的结构和属性

<colgroup><col class="tcol1"> <col class="tcol2"> <col class="tcol3"> <col class="tcol4"> <col class="tcol5"> <col class="tcol6"> <col class="tcol7"> <col class="tcol8"></colgroup> 
| 

列名

 | 

类型

 | 

长度/值

 | 

默认

 | 

属性

 | 

空

 | 

索引

 | 

A_I

 |
| --- | --- | --- | --- | --- | --- | --- | --- |
| reserses _ id | 中位 | four | 没有人 | 无符号的 | -是吗 | 主要的 | ·······················。 |
| 鸟皮 | ENUM | 是'，'否' | 没有人 |   | -是吗 |   | -是吗 |
| 入口 _ 成员 | 微小文本 | 60` | 没有人 |   | -是吗 |   | -是吗 |
| 条目 _ 非成员 | 微小文本 | Sixty | 没有人 |   | -是吗 |   | -是吗 |
| 位置标识 | 中位 | four | 没有人 | 无符号的 | -是吗 | 指数 | -是吗 |

### 重要的

遵循与前面位置表中 bird_id 相同的过程，将 location_id 作为索引。

使用 phpMyAdmin 中的 Insert 选项卡，用表 [9-7](#Tab7) 中给出的数据填充 reserves_info 表。

表 9-7

reserves_info 表的数据(门票是指门票)

<colgroup><col class="tcol1"> <col class="tcol2"> <col class="tcol3"> <col class="tcol4"> <col class="tcol5"></colgroup> 
| 

储量 _id

 | 

鸟皮

 | 

入口 _ 成员

 | 

条目 _ 非成员

 | 

位置标识

 |
| --- | --- | --- | --- | --- |
| one | 是 | 自由的 | one | one |
| Two | 是 | one | £2 | Two |
| three | 是 | 自由的 | one | three |
| four | 不 | 自由的 | 自由的 | four |
| five | 不 | 自由的 | 自由的 | five |

### 注意

reserves_info 表中的 location_id 值必须与 location 表中的 location_id 值相匹配。如果您的值与表 [9-5](#Tab5) 和表 [9-7](#Tab7) 中显示的不同，进行必要的调整，使值匹配。

创建并填充 reserves_info 表后，在 phpMyAdmin 中单击页面左侧的 birdsdb 数据库名称。然后单击 Designer 选项卡显示表之间的当前关系。您将看到前两个表及其链接，但可能看不到第三个表。

在这种情况下，单击垂直工具栏上最顶端的图标(图 [9-8](#Fig8) 中的圆圈)，表格列表将出现在右侧的新面板中。将列出第三个表，但不会选中其复选框。选中第三个表格的框以显示该表格。将第三个工作台左右滑动，使其大致位于另外两个工作台的左上方，如图 [9-8](#Fig8) 所示。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig8_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig8_HTML.jpg)

图 9-8

在设计器视图中显示和定位第三个表

第三个表不会被链接，如图 [9-8](#Fig8) 所示。

我们现在需要在 location 表和 reserves_info 表之间创建一个关系。

1.  在垂直工具栏中，单击创建关系图标(在图 [9-9](#Fig9) 中用圆圈显示)。

2.  单击位置表中的位置标识，然后单击储量信息表中的位置标识。如果您以错误的顺序执行此操作(即，如果您首先在 reserves_info 表中单击 location_id)，您将会看到一条错误消息。

3.  当外键弹出窗口出现时，在两个字段中选择限制，然后单击开始。

现在你应该看到这些表格被链接起来，如图 [9-9](#Fig9) 所示。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig9_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig9_HTML.jpg)

图 9-9

创建并保存第二个和第三个表之间的关系

### 创建页面以显示连接表中的数据

连接的表是数据库管理系统(DBMS)中的虚拟表，公众看不到。

我们现在将创建一些页面，以便您的表格可以在公共浏览器中显示。除了主页之外，我们还将创建页面来显示鸟类表、保护区的位置、两个连接表和三个连接表。这些页面包含在章节 [9](09.html) 的可下载文件中。

### 主页

图 9-10 显示了我们网站的主页。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig10_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig10_HTML.jpg)

图 9-10

主页

清单 9-10 显示了主页的代码。

```php
<!DOCTYPE html>
<html lang="en">
<head>
<title>Birds Home Page</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1,
       shrink-to-fit=no">
<!-- Bootstrap CSS File -->
<link rel="stylesheet"
  href=
"https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
  integrity=
"sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
  crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="birds.css">
</head>
<body>
<div class="container" style="margin-top:30px;border: 3px black solid;">
<!-- Header Section -->
<header class="jumbotron text-center row" id="includeheader"
        style="margin-bottom:2px; padding:20px;background-color:#CCFF99;">
               <?php include('includes/header.php'); ?>
</header>
<!-- Body Section -->
<div class="content mx-auto" id="contents">
<div class="row mx-auto" style="padding-left: 0px; height: auto;">
<!-- Left-side Column Menu Section -->
  <nav class="col-sm-2">
      <ul class="nav nav-pills flex-column">
               <?php include('includes/nav.php'); ?>
      </ul>
  </nav>
<!-- Center Column Content Section -->
<div class="col-sm-8 row" style="padding-left: 30px;">
<h2 style="padding-left: 50px; padding-top: 20px;">
         Help Save Our Devon Birds From Extinction</h2>
<div class="col-sm-8 text-left">
<p>The Devon bird reserves were established in an effort to combat the massive decline in the bird population. Farmers (the self proclaimed Guardians of the Countryside!) spray insecticides, weed killers and pesticides that kill the birds' main source of food. They also rip out the hedges that provide the birds with nesting sites and their means of travelling safely from field to field. Any birds that survive will probably be shot to satisfy a blood lust for living targets</p>
</div>
<div class="col-sm-4">
<h4 class="text-center"><strong>
         Become a member and support our cause</strong></h4>
<p class="text-left">
         The annual membership fee includes free or reduced entrance fees to the reserves, a free quarterly magazine, news updates and more.
</p>
</div>
</div>
<!-- Right-side Column Content Section -->
       <aside class="col-sm-2" style="padding-top: 20px;
               padding-right: 0px;">
               <?php include('includes/info-col.php'); ?>
        </aside>
</div>
<!-- Footer Content Section -->
<footer class="jumbotron text-center row"
style="padding-bottom:1px; padding-top:8px;
        background-color:#CCFF99;">
        <?php include('includes/footer.php'); ?>
</footer>
</div>
</body>
</html>

Listing 9-10The Code for the Home Page (index.php)

```

这段代码类似于我们讨论过的其他索引页面。因此，我们在这里没有提供额外的解释。

清单 9-10a 显示了网站的 CSS 样式表。

```php
body {text-align:center; background-color:#CCFF99; color:green;
font-family: "times new roman";
font-size: 120%; margin: auto; }
#container {margin:auto; border:5px black solid; }

header {color:white; background-color:#CCFF99;}
}
label { color: black; }
#submit {margin: 0px; background:#559a55; border: 5px
    outset #559a55; width: 140px;}
#includemenu {padding-top: 10px; padding-bottom: 10px;
    padding-right: 0px;}
#includefooter {background:#68CE53; padding-top: 5px;
    padding-bottom: 5px; margin: 0px;}
#includeheader { height:auto; background:#95b522;
    margin-bottom: 0px; padding:0px;
    background:url('images/header3.jpg');
    background-repeat:no-repeat;}
#contents {background-color:transparent ;margin-top: -7px;
    color: black; margin: 0px; padding: 0px;}
   #buttons {background:#559a55; border: 5px outset #559a55;}

Listing 9-10aThe Code for the Style Sheet (birds.css)

```

### 页面的主菜单

主菜单上的按钮将使公众能够查看单个表和连接的表。图 [9-10](#Fig10) 显示了该菜单。菜单存储在*包含*文件夹中，清单 [9-10b](#PC4) 给出代码。

```php
<div style="padding-top: 10px; padding-bottom: 10px; padding-right: 15px;">
          <nav class="float-left navbar navbar-expand-md navbar-dark">
          <button class="navbar-toggler" type="button"
                  data-toggle="collapse" data-target="#collapsibleMenu1">
                  <span class="navbar-toggler-icon"></span>
          </button>
<div class="btn-group-vertical btn-group-sm collapse navbar-collapse"
          id="collapsibleMenu1"  role="group" aria-label="Button Group">
          <ul class="navbar-nav flex-column" style="width: 140px;">
                   <li class="nav-item">
                             <a class="btn btn-primary" id="buttons"
                             title="Page Two" href="#" role="button">
                             About Us</a>
                   </li>
                   <li class="nav-item">
                             <a class="btn btn-primary" id="buttons"
                             title="The Birds" href="birds.php"
                             role="button">The Birds</a>
                   </li>
                   <li class="nav-item">
                             <a class="btn btn-primary" id="buttons"
                             title="The Reserves" href="reserves.php"
                             role="button">The Reserves</a>
                   </li>
                   <li class="nav-item">
                             <a class="btn btn-primary" id="buttons"
                             title="Page Five" href="join-2.php"
                             role="button">Join 2 Tables</a>
                   </li>
                   <li class="nav-item">
                             <a class="btn btn-primary" id="buttons"
                             title="Page Six" href="join-3.php"
                             role="button">Join 3 Tables</a>
                   </li>
                   <li class="nav-item">
                             <a class="btn btn-primary" id="buttons"
                             title="Return to Home Page" href="index.php"
                             role="button">Home Page</a>
                   </li>
          </div>
    </nav>
</div>

Listing 9-10bThe Main Menu (nav.php)

```

### 所有页面的页眉

所有页面的标题都包含两个菜单按钮。你可以在图 [9-10](#Fig10) 中看到这个标题。

清单 [9-10c](#PC5) 给出了标题的代码。

```php
<meta name="viewport" content="width=device-width, initial-scale=1">
       <script src=
       "https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
       </script>
       <script src=
"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js">
       </script>
       <script src=
"https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js">
       </script>
<div class="col-sm-8" style="color: white; padding-top: 5%;">
 <div class="h1 display-4 text-left" >The Devon Bird Reserves</div>
</div>
<div class="col-sm-4" style="padding-top: 10px; padding-bottom: 10px;">
     <nav class="float-right navbar navbar-expand-md navbar-dark">
               <button class="navbar-toggler" type="button"
               data-toggle="collapse" data-target="#collapsibleMenu">
                       <span class="navbar-toggler-icon"></span>
               </button>
<div class="btn-group-vertical btn-group-sm collapse navbar-collapse"
        id="collapsibleMenu" role="group" aria-label="Button Group">
        <ul class="navbar-nav flex-column" style="width: 140px;">
               <li class="nav-item">
        <a class="btn btn-primary" id="buttons" href="#"
                          role="button">Login</a>
        </li>
        <li class="nav-item">
                  <a class="btn btn-primary" id="buttons"
                           href="member_reg.php" role="button">Register</a>
        </li>
</ul>
</div>
</nav>
</div>

Listing 9-10cThe Code for the Header (includes/header.php)

```

现在让我们看一些鸟。

### 查看鸟类的页面

图 [9-11](#Fig11) 显示了查看鸟表的显示。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig11_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig11_HTML.jpg)

图 9-11

鸟的桌子

清单 [9-11](#PC6) 给出了鸟表显示的代码。

```php
<?php
        define('ERROR_LOG','errorlog.log');
?>
<!DOCTYPE html>
<html lang="en">
<head>
        <title>Birds Home Page</title>
        <meta charset="utf-8">
        <meta name="viewport" content=
               "width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Bootstrap CSS File -->
        <link rel="stylesheet"
                  href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
                  integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
                  crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="birds1.css">
</head>
<body>
<div class="container" style="margin-top:30px;border: 3px black solid;">
<!-- Header Section -->
<header class="jumbotron text-center row" id="includeheader"
style="margin-bottom:2px; padding:20px;background-color:#CCFF99;">
        <?php include('includes/header.php'); ?>
</header>
<!-- Body Section -->
<div class="content mx-auto" id="contents">
<div class="row mx-auto" style="padding-left: 0px; height: auto;">
<!-- Left-side Column Menu Section -->
  <nav class="col-sm-2">
      <ul class="nav nav-pills flex-column">
                  <?php include('includes/nav.php'); ?>
      </ul>
  </nav>
<!-- Center Column Content Section -->
<div class="col-sm-8 row" style="padding-left: 30px;">
           <h2>The Birds that can be seen on our Reserves</h2>
           <?php
           try
           {
           // This script retrieves all the records from the birds table
           require ('mysqli_connect.php'); // Connect to the database
           // Make the query:
           $q = "SELECT bird_name, rarity, best_time FROM birds ORDER BY bird_name ASC";
           $result = mysqli_query ($dbcon, $q); // Run the query
           if ($result) { // If it ran OK, display the records
                     // Table header
                     ?>
                     <table class="table table-striped" style=
                              "background: white;color:black;">
                     <tr>
                              <th scope="col">Birds Name</th>
                              <th scope="col">Rarity</th>
                              <th scope="col">Best Time</th>
                     </tr>
<?php
           // Fetch and print all the records
           while ($row = mysqli_fetch_array($result, MYSQLI_ASSOC)) {
                    $bird_name = htmlspecialchars($row['bird_name'], ENT_QUOTES);
                    $rarity = htmlspecialchars($row['rarity'], ENT_QUOTES);
                    $best_time = htmlspecialchars($row['best_time'], ENT_QUOTES);
                    echo '<tr>
                             <td scope="row">' . $bird_name . '</td>
                             <td scope="row">' . $rarity . '</td>
                             <td scope="row">' . $best_time . '</td>
                    </tr>';
           }
           echo '</table>'; // Close the table
           mysqli_free_result ($result); // Free up the resources
           } else { // If it did not run OK
                    // Message
                    echo '<p class="text-center">
                    The current birds could not be retrieved. ';
                    echo 'We apologize for any inconvenience.</p>';
                    // Debugging message
                    //echo '<p>' . mysqli_error($dbcon) . '<br><br />Query: ' .
                             $q . '</p>';
           } // End of if ($result)
           mysqli_close($dbcon); // Close the database connection.
}
catch(Exception $e) // We finally handle any problems here
{
           // print "An Exception occurred. Message: " . $e->getMessage();
           print "The system is busy please try later";
           //  $date = date('m.d.y h:i:s');
           //  $errormessage = $e->getMessage();
           //  $eMessage = $date . " | Exception Error | " , $errormessage . |\n";
           //   error_log($eMessage,3,ERROR_LOG);
           // e-mail support person to alert there is a problem
           //  error_log("Date/Time: $date – Exception Error,
           // Check error log for details", 1, noone@helpme.com,
           // "Subject: Exception Error \nFrom: Error Log
           // <errorlog@helpme.com>" . "\r\n");
   }
   catch(Error $e)
   {
           // print "An Error occurred. Message: " . $e->getMessage();
           print "The system is busy please try later";
           // $date = date('m.d.y h:i:s');
           // $errormessage = $e->getMessage();
           // $eMessage = $date . " | Error | " , $errormessage . |\n";
           // error_log($eMessage,3,ERROR_LOG);
           // e-mail support person to alert there is a problem
           //  error_log("Date/Time: $date – Error, Check error log for
           //details", 1, noone@helpme.com, "Subject: Error \nFrom:
           // Error Log <errorlog@helpme.com>" . "\r\n");
   }
?>
</div><!-- End of the view birds page content. -->
<!-- Right-side Column Content Section -->
           <aside class="col-sm-2" style=
                    "padding-top: 20px; padding-right: 0px;">
                    <?php include('includes/info-col.php'); ?>
           </aside>
</div>
<!-- Footer Content Section -->
<footer class="jumbotron text-center row"
           style="padding-bottom:1px;
           padding-top:8px;background-color:#CCFF99;">
           <?php include('includes/footer.php'); ?>
</footer>
</div>
</div>
</body>
</html>

Listing 9-11Creating a Display for the Bird’s Table (birds.php)

```

点击主页上的鸟类菜单按钮可以查看此页面。

#### 代码的解释

您已经在前面的章节中看到了所有这些代码。因此，我们在这里不提供任何额外的解释。

我们现在将检查 locations 表，这是本教程的第二个表。可以通过点击菜单按钮 reservations 来查看。

### 用于查看保护区位置和栖息地的页面

图 [9-12](#Fig12) 显示了查看保护区位置表的画面。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig12_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig12_HTML.jpg)

图 9-12

显示保护区的位置和类型

列表 [9-12](#PC7) 给出了显示保护区位置和栖息地的代码。

```php
<?php
    define('ERROR_LOG','errorlog.log');
?>
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Reserves Page</title>
  <meta charset="utf-8">
  <meta name="viewport" content=
            "width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS File -->
  <link rel="stylesheet"
href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
            integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
            crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="birds1.css">
</head>
<body>
<div class="container" style="margin-top:30px;border: 3px black solid;">
<!-- Header Section -->
<header class="jumbotron text-center row" id="includeheader"
    style="margin-bottom:2px; padding:20px;
            background-color:#CCFF99;">
    <?php include('includes/header.php'); ?>
</header>
<!-- Body Section -->
<div class="content mx-auto" id="contents">
<div class="row mx-auto" style="padding-left: 0px; height: auto;">
<!-- Left-side Column Menu Section -->
  <nav class="col-sm-2">
        <ul class="nav nav-pills flex-column">
                  <?php include('includes/nav.php'); ?>
        </ul>
  </nav>
<!-- Center Column Content Section -->
<div class="col-sm-8 row" style="padding-left: 30px;">
<h2>The location and habitat of the Devon Bird Reserves</h2>
<?php
    try {
    // This script retrieves all the records from the users table
              require ('mysqli_connect.php'); // Connect to the database
              // Make the query:
              $q = "SELECT location, location_type FROM location ORDER BY ";
              $q .= "location_id ASC";
              $result = mysqli_query ($dbcon, $q); // Run the query
              if ($result) { // If it ran OK, display the records
              // Table header
    ?>
        <table class="table table-striped"
            style="background: white;color:black;">
            <tr>
                     <th scope="col">Location</th>
                     <th scope="col">Location Type</th>
            </tr>
    <?php
    // Fetch and print all the records
             while ($row = mysqli_fetch_array($result, MYSQLI_ASSOC)) {
                      $location = htmlspecialchars($row['location'], ENT_QUOTES);
                      $location_type = htmlspecialchars($row['location_type'], ENT_QUOTES);
                      echo '<tr>
                      <td scope="row">' . $location . '</td>
                      <td scope="row">' . $location_type . '</td>
                      </tr>';
             }
             echo '</table>'; // Close the table
             mysqli_free_result ($result); // Free up the resources
    } else { // If it did not run OK
             // Message
             echo '<p class="text-center">
                      The current locations could not be retrieved. ';
             echo 'We apologize for any inconvenience.</p>';
             // Debugging message
             //echo '<p>' . mysqli_error($dbcon) . '<br><br />Query: ' .
                      // $q . '</p>';
    } // End of if ($result)
    mysqli_close($dbcon); // Close the database connection.
}
catch(Exception $e) // We finally handle any problems here
{
    // print "An Exception occurred. Message: " . $e->getMessage();
    print "The system is busy please try later";
    //  $date = date('m.d.y h:i:s');
    //  $errormessage = $e->getMessage();
    //  $eMessage = $date . " | Exception Error | " , $errormessage .
//|\n";
    // error_log($eMessage,3,ERROR_LOG);
    // e-mail support person to alert there is a problem
    // error_log("Date/Time: $date – Exception Error, Check error log for
    //details", 1, noone@helpme.com, "Subject: Exception Error
    //\nFrom: Error Log <errorlog@helpme.com>" . "\r\n");

}
catch(Error $e)
{
    // print "An Error occurred. Message: " . $e->getMessage();
    print "The system is busy please try later";
    // $date = date('m.d.y h:i:s');
    // $errormessage = $e->getMessage();
    // $eMessage = $date . " | Error | " , $errormessage . |\n";
    // error_log($eMessage,3,ERROR_LOG);
    // // e-mail support person to alert there is a problem
    //  error_log("Date/Time: $date – Error, Check error log for
    //details", 1, noone@helpme.com, "Subject: Error \nFrom:
    // Error Log <errorlog@helpme.com>" . "\r\n");
}
?>
</div><!-- End of the view birds page content. -->
<!-- Right-side Column Content Section -->
     <aside class="col-sm-2" style="padding-top: 20px;
              padding-right: 0px;">
     <?php include('includes/info-col.php'); ?>
     </aside>
</div>
<!-- Footer Content Section -->
<footer class="jumbotron text-center row"
    style="padding-bottom:1px; padding-top:8px;
            background-color:#CCFF99;">
            <?php include('includes/footer.php'); ?>
</footer>
</div>
</div>
</body>
</html>

Listing 9-12Creating the Page for Displaying the Locations and Habitats of the Reserves (reserves.php)

```

我们现在将显示两个连接表的显示。在本章的后面，我们将更深入地讨论如何连接表。

#### 显示连接表中的数据

当这两个表连接在一起时，将显示每个表 birds 和 location 的一些数据，如图 [9-13](#Fig13) 所示。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig13_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig13_HTML.jpg)

图 9-13

显示两个连接的表

清单 [9-13](#PC8) 显示了显示从两个连接的表中选择的数据的代码。

```php
<?php
       define('ERROR_LOG','errorlog.log');
?>
 <!DOCTYPE html>
<html lang="en">
<head>
       <title>Two Tables Page</title>
       <meta charset="utf-8">
       <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
       <!-- Bootstrap CSS File -->
       <link rel="stylesheet"
       ref="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
              integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
              crossorigin="anonymous">
       <link rel="stylesheet" type="text/css" href="birds1.css">
</head>
<body>
       <div class="container" style="margin-top:30px;border: 3px black solid;">
       <!-- Header Section -->
       <header class="jumbotron text-center row" id="includeheader"
               style="margin-bottom:2px; padding:20px;background-color:#CCFF99;">
                        <?php include('includes/header.php'); ?>
       </header>
       <!-- Body Section -->
       <div class="content mx-auto" id="contents">
       <div class="row mx-auto" style="padding-left: 0px; height: auto;">
       <!-- Left-side Column Menu Section -->
       <nav class="col-sm-2">
               <ul class="nav nav-pills flex-column">
                       <?php include('includes/nav.php'); ?>
               </ul>
       </nav>
       <!-- Center Column Content Section -->
       <div class="col-sm-8 row" style="padding-left: 30px;">
               <h2>The location and habitat of the Devon Bird Reserves</h2>
       <?php
       try {
       // This script retrieves all the records from the birds table
               require ('mysqli_connect.php'); // Connect to the database
               // Make the query:
               $q = "SELECT location.location, birds.bird_name, birds.rarity, birds.best_time
                       FROM location INNER JOIN birds ON location.bird_id=birds.bird_id";
               $result = mysqli_query ($dbcon, $q); // Run the query
               if ($result) { // If it ran OK, display the records
                       // Table header
                       ?>
                       <table class="table table-striped" style="background: white;color:black;">
                       <tr>
                                 <th scope="col">Location</th>
                                 <th scope="col">Bird Name</th>
                                 <th scope="col">Rarity</th>
                                 <th scope="col">Best Time</th>
                       </tr>
               <?php
               // Fetch and print all the records
               while ($row = mysqli_fetch_array($result, MYSQLI_ASSOC)) {
                       $location = htmlspecialchars($row['location'], ENT_QUOTES);
                       $bird_name = htmlspecialchars($row['bird_name'], ENT_QUOTES);
                       $rarity = htmlspecialchars($row['rarity'], ENT_QUOTES);
                       $best_time = htmlspecialchars($row['best_time'], ENT_QUOTES);
                       echo '<tr>
                              <td scope="row">' . $location . '</td>
                              <td scope="row">' . $bird_name . '</td>
                              <td scope="row">' . $rarity . '</td>
                              <td scope="row">' . $best_time . '</td>
                       </tr>';
               }
               echo '</table>'; // Close the table
               mysqli_free_result ($result); // Free up the resources
       } else { // If it did not run OK
                // Message
                echo '<p class="text-center">The current birds or locations could not be retrieved. ';
                echo 'We apologize for any inconvenience.</p>';
                // Debugging message
       //echo '<p>' . mysqli_error($dbcon) . '<br><br />Query: ' . $q . '</p>';
       } // End of if ($result)
       mysqli_close($dbcon); // Close the database connection
}
catch(Exception $e) // We finally handle any problems here
{
       // print "An Exception occurred. Message: " . $e->getMessage();
       print "The system is busy please try later";
       //  $date = date('m.d.y h:i:s');
       //  $errormessage = $e->getMessage();
       //  $eMessage = $date . " | Exception Error | " , $errormessage . |\n";
       //   error_log($eMessage,3,ERROR_LOG);
       // e-mail support person to alert there is a problem
       //  error_log("Date/Time: $date – Exception Error, Check error log for
       //details", 1, noone@helpme.com, "Subject: Exception Error \nFrom: Error Log
       // <errorlog@helpme.com>" . "\r\n");
}
catch(Error $e)
{
       // print "An Error occurred. Message: " . $e->getMessage();
       print "The system is busy please try later";
       // $date = date('m.d.y h:i:s');
       // $errormessage = $e->getMessage();
       // $eMessage = $date . " | Error | " , $errormessage . |\n";
       // error_log($eMessage,3,ERROR_LOG);
       // e-mail support person to alert there is a problem
       //  error_log("Date/Time: $date – Error, Check error log for
       //details", 1, noone@helpme.com, "Subject: Error \nFrom:
       // Error Log <errorlog@helpme.com>" . "\r\n");
   }
?>
</div><!-- End of the view birds page content. -->
<!-- Right-side Column Content Section -->
        <aside class="col-sm-2" style="padding-top: 20px; padding-right: 0px;">
                <?php include('includes/info-col.php'); ?>
        </aside>
</div>
<!-- Footer Content Section -->
<footer class="jumbotron text-center row"
        style="padding-bottom:1px; padding-top:8px;background-color:#CCFF99;">
                <?php include('includes/footer.php'); ?>
</footer>
</div>
</div>
</body>
</html>

Listing 9-13Creating the Page for Displaying Selected Data from Two Joined Tables (join-2.php)

```

请注意，ON 单词后面的项目顺序可以颠倒，您将获得相同的结果。例如，以下内容:

```php
   ON location.bird_id=birds.bird_id)" ;

```

可以写成如下:

```php
   ON birds.bird_id=location.bird_id";

```

您可以通过单击“连接两个表”菜单按钮来查看这两个连接的表。您将能够看到该表包含来自两个表的数据，如图 [9-13](#Fig13) 所示。

SQL ON 关键字通过将相关的 bird_id 字段链接在一起来连接这两个表。让我们花点时间来讨论一下如何以及为什么将表连接在一起。

我们现在将创建一个显示三个虚拟连接表的环境。这些页面可通过主页中的菜单按钮访问。

### 注意

如前所述，连接表是虚拟表。只有在浏览器中显示后才能看到它们。本教程中的页面专门用于演示连接表的结果。通过单击菜单上的按钮来选择表格显示。真实世界的网站不会有标记为“连接 2 个表”和“连接 3 个表”的按钮。这些标签只是为了您的方便。

#### 创建一个页面来显示三个连接的表

之前我们使用 myPhpAdmin 创建了数据库中三个表的连接关系，如图 [9-14](#Fig14) 所示。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig14_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig14_HTML.jpg)

图 9-14

创建并保存第二个和第三个表之间的关系

我们现在将创建一个页面来选择和显示这三个表中的数据。其原理非常符合逻辑:首先连接两个表以产生一个虚拟表，然后将它连接到第三个表。用于连接和选择三个表中的数据的查询的语法如下:

```php
$q= "SELECT some column, some other column, another column
       FROM table1
               INNER JOIN table2 USING (the key that links table1 and table2)
               INNER JOIN table3 USING (the key that links table2 and table3) ";

```

让我们从三个连接的表中选择一些数据显示在 web 页面上。

```php
$q = "SELECT bird_name, best_time, location, bird_hides, entrance_member,
        entr_non_member FROM birds
                INNER JOIN location USING (bird_id)
                INNER JOIN reserves_info USING (location_id) ";

```

执行该 SQL 语句的结果如图 [9-15](#Fig15) 所示。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig15_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig15_HTML.jpg)

图 9-15

浏览器中连接和显示的三个表

显示此表的页面可以通过单击索引页面中的 Join 3 Tables 菜单按钮来查看。

清单 [9-15](#PC13) 显示了这个页面的代码。

```php
<?php
        define('ERROR_LOG','errorlog.log');
?>
<!DOCTYPE html>
<html lang="en">
<head>
        <title>Three Tables Page</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Bootstrap CSS File -->
        <link rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
                integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
                crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="birds1.css">
</head>
<body>
<div class="container" style="margin-top:30px;border: 3px black solid;">
<!-- Header Section -->
<header class="jumbotron text-center row" id="includeheader"
        style="margin-bottom:2px; padding:20px;background-color:#CCFF99;">
        <?php include('includes/header.php'); ?>
</header>
<!-- Body Section -->
<div class="content mx-auto" id="contents">
<div class="row mx-auto" style="padding-left: 0px; height: auto;">
<!-- Left-side Column Menu Section -->
        <nav class="col-sm-2">
               <ul class="nav nav-pills flex-column">
                       <?php include('includes/nav.php'); ?>
               </ul>
        </nav>
<!-- Center Column Content Section -->
<div class="col-sm-8 row" style="padding-left: 30px;">
        <h2>The location and habitat of the Devon Bird Reserves</h2>
<?php
        try {
               require ('mysqli_connect.php'); // Connect to the database
               // Make the query:
               $q = "SELECT bird_name, best_time, location, bird_hides,
                       entrance_member, entr_non_member FROM birds
                       INNER JOIN location USING (bird_id)
                       INNER JOIN reserves_info USING (location_id)";
               $result = mysqli_query ($dbcon, $q); // Run the query
               if ($result) { // If it ran OK, display the records
               // Table header
                       ?>
                       <table class="table table-responsive table-striped"
                               style="background: white;color:black;">
                               <tr>
                                       <th scope="col">Birds Name</th>
                                       <th scope="col">Best Time</th>
                                       <th scope="col">Location</th>
                                       <th scope="col">Bird Hides</th>
                                       <th scope="col">Entrance Member</th>
                                       <th scope="col">Entrance Non-Member</th>
                               </tr>
                       <?php
                       // Fetch and print all the records
                       while ($row = mysqli_fetch_array($result, MYSQLI_ASSOC)) {
                              $bird_name = htmlspecialchars($row['bird_name'], ENT_QUOTES);
                              $best_time = htmlspecialchars($row['best_time'], ENT_QUOTES);
                              $location = htmlspecialchars($row['location'], ENT_QUOTES);
                              $bird_hides = htmlspecialchars($row['bird_hides'], ENT_QUOTES);
                              $entrance_member = htmlspecialchars($row['entrance_member'], ENT_QUOTES);
                              $entrance_non_member = htmlspecialchars($row['entr_non_member'], ENT_QUOTES);
                              echo '<tr>
                              <td scope="row">' . $bird_name . '</td>
                              <td scope="row">' . $best_time . '</td>
                              <td scope="row">' . $location . '</td>
                              <td scope="row">' . $bird_hides . '</td>
                              <td scope="row">' . $entrance_member . '</td>
                              <td scope="row">' . $entrance_non_member . '</td>
                       </tr>';
                       }
               echo '</table>'; // Close the table
               mysqli_free_result ($result); // Free up the resources
       } else { // If it did not run OK
               // Message
               echo '<p class="error">The current data could not be retrieved. ';
               echo 'We apologize for any inconvenience.</p>';
               // Debugging message
               echo '<p>' . mysqli_error($dbcon) . '<br><br />Query: ' . $q . '</p>';
       } // End of if ($result)
       mysqli_close($dbcon); // Close the database connection
}
catch(Error $e)
{
       // print "An Error occurred. Message: " . $e->getMessage();
       print "The system is busy please try later";
       // $date = date('m.d.y h:i:s');
       // $errormessage = $e->getMessage();
       // $eMessage = $date . " | Error | " , $errormessage . |\n";
       // error_log($eMessage,3,ERROR_LOG);
       // e-mail support person to alert there is a problem
       //  error_log("Date/Time: $date – Error, Check error log for
       //details", 1, noone@helpme.com, "Subject: Error \nFrom: Error Log <errorlog@helpme.com>" .
       //"\r\n");
  }
?>
</div><!-- End of the view birds page content. -->
<!-- Right-side Column Content Section -->
        <aside class="col-sm-2" style="padding-top: 20px; padding-right: 0px;">
                <?php include('includes/info-col.php'); ?>
        </aside>
  </div>
<!-- Footer Content Section -->
<footer class="jumbotron text-center row"
style="padding-bottom:1px; padding-top:8px;background-color:#CCFF99;">
  <?php include('includes/footer.php'); ?>
</footer>
</div>
</div>
</body>
</html>

Listing 9-15Creating the Page for Displaying Three Joined Tables (join-3.php).

```

#### 代码的解释

本节解释代码。

```php
$q = "SELECT bird_name, best_time, location, bird_hides,
        entrance_member,
        entr_non_member FROM birds
                INNER JOIN location USING (bird_id)
                INNER JOIN reserve_info USING (location_id)";

```

该代码类似于两个表的代码，只是多了一个 INNER JOIN 语句。

我们从三个连接的表中选择了一些数据(但不是全部)。使用 SELECT 查询从三个表中选择了六个项目。

我们现在将学习如何添加使用支票而不是 PayPal 或借记卡/信用卡支付商品或会员费的替代方法。

## 支票支付

仍然有顾客喜欢用支票支付，因为他们没有 PayPal 账户，或者他们不喜欢在网上透露他们的借记卡/信用卡信息。支票付款通常需要附有打印的表格，其中包含解释付款原因的信息。该表单通常包含客户的姓名、地址、电子邮件地址、电话号码和其他相关信息，如付款号码。

本教程为需要在线注册的组织使用了简化的可打印表单；该表单需要用户的完整信息，以及支付方式的选择。这对于需要会员注册的网站来说非常理想。

让我们假设德文郡鸟类保护区需要一个在线登记表，如图 [9-16](#Fig16) 所示。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig16_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig16_HTML.jpg)

图 9-16

注册页面

您可以通过单击主页标题上的注册按钮来查看注册页面。

### 注意

SQL 文件成员已包含在章节文件中。该文件包含为注册页面创建所需表格的代码。在尝试运行以下任何代码之前，必须使用 phpMyAdmin 导入该代码。

注册页面和相关表格与第 [7](07.html) 章中使用的基本相同。大部分代码来自第七章，嵌入到 birds 模板中，保存为 *member_reg.php* 。因为代码是相似的，所以这里不包括它，但是包含在章节文件中。

当用户注册成功后，注册按钮会将他们重定向到一个“谢谢”页面，该页面包含支付会员费的替代方法。

### 支付方式的选择

填写完会员注册表格后，点击注册按钮会将用户带到一个页面，让用户选择三种支付方式，如图 [9-17](#Fig17) 所示。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig17_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig17_HTML.jpg)

图 9-17

为用户提供支付方式的选择

PayPal 徽标的显示特意在页面上复制，以表明您可以选择垂直或水平徽标。为了避免页面混乱，您应该只选择一个。清单 [9-17](#PC15) 给出了创建如图 [9-17](#Fig17) 所示页面的代码。

```php
<?php
        define("ERROR_LOG","errorlog.log");
?>
<!DOCTYPE html>
<html lang="en">
<head>
        <title>Register Page</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Bootstrap CSS File -->
        <link rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
        integrity=
"sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
        crossorigin="anonymous">
        <script src="verify.js"></script>
        <script src='https://www.google.com/recaptcha/api.js'></script>
        <link rel="stylesheet" type="text/css" href="birds1.css">
</head>
<body>
        <div class="container" style="margin-top:30px;border: 3px black solid;">
        <!-- Header Section -->
        <header class="jumbotron text-center row" id="includeheader"
                style="margin-bottom:2px; padding:20px;background-color:#CCFF99;">
                <?php include('includes/header.php'); ?>
        </header>
        <!-- Body Section -->
        <div class="content mx-auto" id="contents">
        <div class="row mx-auto" style="padding-left: 0px; height: auto;">
        <!-- Left-side Column Menu Section -->
                 <nav class="col-sm-2">
                        <ul class="nav nav-pills flex-column">
                                <?php include('includes/nav.php'); ?>
                        </ul>
                 </nav>
        <!-- Center Column Content Section -->
        <div class="col-sm-8">
        <h3 class="h2 text-center" >Thank you for registering</h2>
        <h6 class="text-center">
        To confirm your registration please verify membership class and
        pay the membership fee now.</h6>
        <h6 class="text-center">You can use PayPal, a check or a credit/debit card.</h6>
        <p class="text-center" >When you have completed your registration you will be
        able to login to the member's only pages.</p>
<?php
try {
        require ("mysqli_connect.php");
        $query = "SELECT * FROM prices";
        $result = mysqli_query ($dbcon, $query); // Run the query.
        if ($result) { // If it ran OK, display the records.
                $row = mysqli_fetch_array($result, MYSQLI_NUM);
                $yearsarray = array(
        "Standard one year:", "Standard five year:", "Military one year:", "Under 21 one year:",
        "Other - Give what you can. Maybe:" );
               echo '<h6 class="text-center text-danger">Membership classes:</h6>' ;
               echo '<h6 class="text-center text-danger small"> ';
               for ($j = 0, $i = 0; $j < 5; $j++, $i = $i + 2) {
                       echo $yearsarray[$j] . " &pound; " .
                       htmlspecialchars($row[$i], ENT_QUOTES)  .
                       " GB, &dollar; " .
                       htmlspecialchars($row[$i + 1], ENT_QUOTES) .
                       " US";
               if ($j != 4) {
                       if ($j % 2 == 0) { echo "</h6><h6 class='text-center text-danger small'>"; }
                       else { echo " , "; }
               }
        }
        echo "</h6>";
}
?>
<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
        <input type="hidden" name="cmd" value="_s-xclick">
        <input type="hidden" name="hosted_button_id" value="XXXXXXXXXXXXX">
        <div class="form-group row">
        <label for="level" class="col-sm-4 col-form-label text-right">*Membership Class</label>
        <div class="col-sm-8">
                <select id="level" name="level" class="form-control" required>
                <option value="0" >-Select-</option>
        <?php
                $class = htmlspecialchars($_GET['class'], ENT_QUOTES);
                for ($j = 0, $i = 0; $j < 5; $j++, $i = $i + 2) {
                        echo '<option value="' .
                        htmlspecialchars($row[$i], ENT_QUOTES) . '" ';
                        if ((isset($class)) && ( $class == $row[$i]))
                        {
                               echo ' selected ';
                        }
                echo ">" . $yearsarray[$j] . " " .
                htmlspecialchars($row[$i], ENT_QUOTES) .
                " &pound; GB, " .
                htmlspecialchars($row[$i + 1], ENT_QUOTES) .
                "&dollar; US</option>";
                }
        ?>
        </select>
</div>
</div>
<div class="form-group row">
<div class="col-sm-6 col-form-label">
        <nav class="float-right navbar navbar-expand-md navbar-dark">
                <button class="navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#collapsibleMenu">
                        <span class="navbar-toggler-icon"></span>
                </button>
<div class="btn-group-vertical btn-group-sm collapse navbar-collapse" id="collapsibleMenu"
        role="group" aria-label="Button Group">
                <ul class="navbar-nav flex-column" style="width: 140px;">
                       <li class="nav-item">
                               <a class="btn btn-primary" id="buttons"
                               href="pay-with-check.php" role="button">Pay By Check</a>
                       </li>
                </ul>
</div>
</nav>
</div>
<div class="col-sm-6">
<!-- Replace the code below with code provided by PayPal once you obtain a Merchant ID -->
        <input type="hidden" name="currency_code" value="GBP">
                <input style="margin:10px 0 0 40px" type="image"
                src="https://www.paypalobjects.com/en_US/GB/i/btn/btn_buynowCC_LG.gif"
                name="submit" alt="PayPal  The safer, easier way to pay online.">
        <img alt="" src=
                "https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1" height="1">
<!-- Replace code above with PayPal provided code -->
</div>
</div>
</form>
</div>
<!-- Right-side Column Content Section -->
        <aside class="col-sm-2">
               <?php include('includes/info-col-cards.php'); ?>
        </aside>
</div>
<!-- Footer Content Section -->
<footer class="jumbotron text-center row"
        style="padding-bottom:1px; padding-top:8px;background-color:#CCFF99;">
        <?php include('includes/footer.php'); ?>
</footer>
<?php
} // end try
catch(Exception $e) // We finally handle any problems here
{
        // print "An Exception occurred. Message: " . $e->getMessage();
        print "The system is busy please try later";
        //  $date = date('m.d.y h:i:s');
        //  $errormessage = $e->getMessage();
        //  $eMessage = $date . " | Exception Error | " , $errormessage . |\n";
        //   error_log($eMessage,3,ERROR_LOG);
        // e-mail support person to alert there is a problem
        //  error_log("Date/Time: $date – Exception Error, Check error log for
        //details", 1, noone@helpme.com, "Subject: Exception Error \nFrom: Error Log
                <errorlog@helpme.com>" . "\r\n");
}
catch(Error $e)
{
        // print "An Error occurred. Message: " . $e->getMessage();
        print "The system is busy please try later";
        // $date = date('m.d.y h:i:s');
        // $errormessage = $e->getMessage();
        // $eMessage = $date . " | Error | " , $errormessage . |\n";
        // error_log($eMessage,3,ERROR_LOG);
        // e-mail support person to alert there is a problem
        //  error_log("Date/Time: $date – Error, Check error log for
        //details", 1, noone@helpme.com, "Subject: Error \nFrom: Error Log
        // <errorlog@helpme.com>" . "\r\n");
   }
?>
</body>
</html>

Listing 9-17Creating a Page for Alternative Methods of Payment (register-thanks.php)

```

当点击 PayPal Pay Now 按钮时，用户会被带到通常的 PayPal 页面进行支付。或者，用户现在可以单击“用支票支付”按钮，填写并打印一个表格，与他们的支票一起发送。这段代码类似于第 7 章中的 register_thanks 程序。

#### 支票付款

当用户点击 Pay By Check 按钮时，他们将被带到一个包含可打印表格的页面，如图 [9-18](#Fig18) 所示。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig18_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig18_HTML.jpg)

图 9-18

可打印的表格可以在屏幕上填写，除了签名和日期(pay-with-check.php)

清单 [9-18](#PC16) 给出了创建可打印表单的代码。

该表格设计为在屏幕上填写，然后打印。

```php
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Register Page</title>
  <meta charset="utf-8">
  <meta name="viewport" content=
            "width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Bootstrap CSS File -->
  <link rel="stylesheet"
  href=
"https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
  integrity=
"sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
  crossorigin="anonymous">
<script src="verify.js"></script>
<script src='https://www.google.com/recaptcha/api.js'></script>

<link rel="stylesheet" type="text/css" href="birds1.css" media="screen">
<link rel="stylesheet" type="text/css" href="print.css" media="print">

<style type="text/css">
    label { margin-bottom:5px; }
    label { width:570px; float:left; text-align:right; }
    .sign { font-weight:bold;}
</style>
</head>
<body>
<div class="container" style="margin-top:30px;border: 3px black solid;">
<!-- Header Section -->
<header class="jumbotron text-center row" id="includeheader"
    style="margin-bottom:2px; padding:20px;background-color:#CCFF99;">
            <?php include('includes/header.php'); ?>
</header>
<!-- Body Section -->
<div class="content mx-auto" id="contents">
<div class="row mx-auto" style="padding-left: 0px; height: auto;">
<!-- Left-side Column Menu Section -->
     <nav class="col-sm-2">
     <ul class="nav nav-pills flex-column">
                      <?php include('includes/nav.php'); ?>
     </ul>
     </nav>
<!-- Center Column Content Section -->
<div class="col-sm-8">
     <h4>Complete your Registration by Paying with a Check</h4>
     <p>Thank you for registering online, now please fill out this
     form. Asterisks indicate essential fields. When you
     have filled out the form please print two copies by clicking
     the "Print This Form" button. Sign one copy and keep one for
     reference sign a check payable to &quot;The Devon Bird
     Reserves&quot;. </p><p>Mail the signed form and check to:
     <br>The Treasurer, The Devon Bird Reserves, 99 The Street,
     The Village, EX99 99ZZ </p>
<form>
<div id="fields">
     <label class="label" for="title">Title<span
              class="large-red">*</span>
     <input id="title" name="title" size="35" type="text" required>
     </label>
     <br><br><label class="label" for="firstname">First Name
<span>*</span>
     <input id="firstname" name="firstname" size="35" type="text"
              required></label><br>
<br><label class="label" for="lastname">Last Name
<span>*</span>
<input id="lastname" name="lastname" size="35" type="text"
       required></label><br>
<br><label class="label" for="useremail">Your Email Address
<span>*</span>
<input id="useremail" name="useremail" type="email" size="35"
       required></label><br>
</div>
</form>
<br><br>
<p class="sign">
 Signed___________________________________________&nbsp;Date_________________
</p>
<br>
<div id="button">
     <input type="button" value=
     "Click to automatically print the form in black and white"
               onclick="window.print()" title="Print this Form"><br>
</div>
<!--End of content.-->
</div>
<!-- Right-side Column Content Section -->
     <aside class="col-sm-2">
     <?php include('includes/info-col-cards.php'); ?>
     </aside>
</div>
<!-- Footer Content Section -->
<footer class="jumbotron text-center row"
    style="padding-bottom:1px; padding-top:8px;
            background-color:#CCFF99;">
            <?php include('includes/footer.php'); ?>
</footer>
</div>
</div>
</body>
</html>

Listing 9-18Creating the Printable Form

(pay-with-check.php)

```

#### 代码的解释

本节解释代码。

```php
<link rel="stylesheet" type="text/css" href="birds.css" media="screen">
<link rel="stylesheet" type="text/css" href="print.css" media="print">

```

使用 PHP 打印表单是不可能的，因为 PHP 是一个服务器端脚本。但是，表单是由浏览器显示的，我们可以从浏览器显示的屏幕打印。我们通过使用媒体属性 media="print "链接到一个单独的条件样式表来实现这一点。

第一行链接到主样式表 *birds.css* ，它使用媒体属性 media="screen "在屏幕上显示页面。第二行将页面链接到页面的打印版本。当显示内容发送到打印机或打印预览时，会自动调用此功能。打印的表单不需要页眉、菜单或页脚。此外，使用 CSS 样式表，我们可以使它只使用黑色墨水打印，这样用户就不必使用更昂贵的彩色墨盒。

```php
<div id="button">
         <input type="button" value=
                  "Click to automatically print the form in black and white"
                  onclick="window.print()" title="Print this Form"><br>
</div>

```

这是页面上用于将浏览器显示设置为打印机的按钮的代码。

## 打印在线表格

图 [9-19](#Fig19) 显示打印页面。

![../images/314857_2_En_9_Chapter/314857_2_En_9_Fig19_HTML.jpg](../images/314857_2_En_9_Chapter/314857_2_En_9_Fig19_HTML.jpg)

图 9-19

用黑色墨水打印的页面的上半部分包含了所有重要的信息

为了生成图 [9-19](#Fig19) 所示的打印输出，在用户屏幕上填写表格，然后点击打印按钮。结果使用了最少的墨水并且没有彩色墨水；然而，它包含了成为德文郡鸟类保护区成员的所有必要条件。用户在表单上签名，然后将它和支票一起寄出。当用户填写注册页面时，他们的地址被输入数据库；因此，这不需要在印刷表格中重复。

样式表 *print.css* 是生成可打印表单的关键。清单 [9-19](#PC19) 显示了这个样式表的代码。

```php
/*PRINT.CSS: style amendments for printing only*/
/*SELECT ITEMS THAT YOU DO NOT WANT TO PRINT, e.g.,
header, menu, print-this-page button, and footer*/
#header, #nav, #leftcol, #button, #rightcol, #footer,
#info-col, ul { display:none; }
input { border:1px black solid; }
h2 { font-size:16pt; color:black; text-align:center; }
h3 { text-align:center; font-size:11pt;}
/*REVEAL OUTGOING URL links on printed page*/
a[href^="http://":after {content: "(" attr(href)")"; }

Listing 9-19Creating the Style Sheet for Printing Forms

(print.css)

```

CSS 语句{ display:none；}告诉打印机哪些项目不应该打印。为了避免在测试打印页面的外观时浪费纸张和墨水，请使用浏览器的打印预览功能。将页面加载到浏览器中，选择文件，然后选择打印预览，查看可打印页面的外观。如果可打印页面包含分页符，请单击打印预览屏幕的向右箭头查看后续页面。

按 Esc 键退出打印预览模式。

```php
h2 { font-size:16pt; text-align:center; }
h3 { text-align:center; font-size:11pt;}

```

要为打印机选择正确的字体大小，请使用磅值(如 16 磅。和 12 磅。)并使用试错法来优化尺寸。你可能有文字在里面

tags, so be sure to include a style for the paragraph font size.

```php
/*REVEAL OUTGOING URL links on the printed page*/
a[href^="http://]:after {content: "(" attr(href)")"; }

```

如果页面包含您的网站的 URL，您可能希望它以对用户有用的格式出现在打印的页面上(假设他们打印并保留了表单的副本)。注意三种类型的括号的使用。在表单中，HTML 看起来像这样:

```php
<p>Click for
<a title="Click to visit the Devon Bird Reserves web site"
href="http://www.the devonbirdreserves.co.uk">The Devon Bird Reserves</a></p>

```

该 URL 将在浏览器中显示如下:

点击访问德文郡鸟类保护区网站。

使用前面的代码，打印的表单将如下所示:

点击访问德文郡鸟类保护区网站( [`www.devonbirdreserves.co.uk`](https://www.devonbirdreserves.co.uk) )。

## 摘要

在本章中，我们介绍了使用多个表的理论和实践。您了解了这种表是虚拟表，只存在于服务器的易失性内存中，可以在 MySQL 或 MariaDB 等 DBMS 中查看。描述了各种连接方法之间的差异。然后，我们演示了通过使用 SQL 查询和 PHP 可以使虚拟表在 web 页面中可见。一个教程向您展示了如何通过支票实现会员付费。除此之外，还演示了经济的表格打印，以便向该组织发送申请表和支票。在下一章，我们将向你介绍一个在线留言板。